(()=>{"use strict";var e={991:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("body");if(!e)return;const t=e.dataset.page;if(!t)return;document.querySelectorAll("a[data-nav]").forEach((e=>{e.dataset.nav===t?e.classList.add("active"):e.classList.remove("active")})),(()=>{let e=0;const t=document.querySelector(".header"),n=document.querySelector(".header__bottom");t&&n&&(window.addEventListener("scroll",(function(){let t=window.pageYOffset||document.documentElement.scrollTop;0===t?(n.classList.remove("shown"),n.classList.remove("hidden")):t>e&&t>10?(n.classList.remove("shown"),n.classList.add("hidden")):t<e&&t>0&&(n.classList.remove("hidden"),n.classList.add("shown")),e=t;const o=document.querySelector(".header__user.accordion-trigger"),s=document.querySelector(".header__column-mod");if(o&&s){const a=window.matchMedia("(min-width: 769px) and (max-width: 1189px)");function r(e){e.matches?(o.addEventListener("mouseenter",(function(){s.classList.add("hover")})),o.addEventListener("mouseleave",(function(){s.classList.remove("hover")})),o.addEventListener("focus",(function(){s.classList.add("hover")})),o.addEventListener("blur",(function(){s.classList.remove("hover")}))):s.classList.remove("hover")}r(a),a.addListener(r)}})),0===window.pageYOffset?(n.classList.remove("shown"),n.classList.remove("hidden")):n.classList.add("shown"))})(),function(){const e=document.querySelector("body"),t=document.querySelector(".mob-menu-btn"),n=document.querySelector(".mob-menu__close"),o=document.querySelector(".mob-menu"),s=document.querySelector(".mob-menu__wrapper");t&&o&&(t.addEventListener("click",(function(){!o.classList.contains("active")&&o.classList.add("active"),!e.classList.contains("no-scroll")&&e.classList.add("no-scroll")})),n.addEventListener("click",(function(){o.classList.contains("active")&&o.classList.remove("active"),e.classList.contains("no-scroll")&&e.classList.remove("no-scroll")}))),s.addEventListener("click",(function(t){t.target===s&&(o.classList.contains("active")&&o.classList.remove("active"),e.classList.contains("no-scroll")&&e.classList.remove("no-scroll"))}))}();new MutationObserver((()=>{if(document.body.classList.contains("no-scroll")){const e=function(){const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();document.body.style.paddingRight=e+"px",document.body.style.overflow="hidden";const t=document.querySelector(".header");t&&(t.style.paddingRight=e+"px")}else{document.body.style.paddingRight="",document.body.style.overflow="";const e=document.querySelector(".header");e&&(e.style.paddingRight="")}})).observe(document.body,{attributes:!0,attributeFilter:["class"]});const n=new class{constructor(){this.overlay=document.querySelector(".popup-overlay"),this.content=this.overlay?.querySelector(".popup__content"),this.closeBtn=this.overlay?.querySelector(".popup__close"),this.overlay&&this.content&&this.closeBtn&&this.init()}init(){this.closeBtn.addEventListener("click",(()=>this.close())),this.overlay.addEventListener("click",(e=>{e.target===this.overlay&&this.close()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.isOpen()&&this.close()}))}open(t){this.content.innerHTML=t,e.classList.add("no-scroll"),this.overlay.classList.add("is-open"),this.overlay.setAttribute("aria-hidden","false");const n=this.content.querySelector("button, [href], input, select, textarea");n&&n.focus()}close(){this.overlay.classList.remove("is-open"),this.overlay.setAttribute("aria-hidden","true"),document.body.classList.remove("no-scroll"),this.content.innerHTML=""}isOpen(){return this.overlay.classList.contains("is-open")}};window.popup=n,document.addEventListener("click",(function(e){const t=e.target.closest("[data-popup]");if(!t)return;e.preventDefault();const o=t.dataset.popup,s=document.getElementById("popup-template-"+o);s&&n.open(s.innerHTML)}))}))}},t={};!function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(991);const n=()=>{function e(e){const t=e.querySelector(".filter-show-all"),n=e.querySelectorAll('.filter-list input[type="checkbox"]');if(!t||!n.length)return;const o=Array.from(n).every((e=>e.checked));t.textContent=o?"Сбросить фильтр":"Выбрать все"}document.querySelectorAll(".filter-group").forEach((t=>{e(t)})),document.addEventListener("click",(function(t){if(!t.target.classList.contains("filter-show-all"))return;t.preventDefault();const n=t.target.closest(".filter-group");if(!n)return;const o=n.querySelectorAll('.filter-list input[type="checkbox"]');o.length&&(Array.from(o).every((e=>e.checked))?o.forEach((e=>{e.checked=!1,e.dispatchEvent(new Event("change",{bubbles:!0}))})):o.forEach((e=>{e.checked=!0,e.dispatchEvent(new Event("change",{bubbles:!0}))})),e(n))})),document.addEventListener("change",(function(t){if(!t.target.matches('.filter-list input[type="checkbox"]'))return;const n=t.target.closest(".filter-group");n&&e(n)})),document.querySelectorAll(".range-filter").forEach((e=>{const t=parseFloat(e.dataset.min)||0,n=parseFloat(e.dataset.max)||1e5,o=parseFloat(e.dataset.step)||1,s=parseFloat(e.dataset.from)||t,a=parseFloat(e.dataset.to)||n,r=e.querySelector(".range-from"),c=e.querySelector(".range-to"),i=e.querySelector(".range-slider");r&&c&&i&&(r.min=t,r.max=n,c.min=t,c.max=n,r.value=s,c.value=a,noUiSlider.create(i,{start:[s,a],connect:!0,range:{min:t,max:n},step:o,format:{to:e=>Math.round(e),from:e=>parseFloat(e)}}),i.noUiSlider.on("update",(e=>{r.value=Math.round(e[0]),c.value=Math.round(e[1]),"function"==typeof updateButtons&&updateButtons()})),r.dispatchEvent(new Event("change",{bubbles:!0})),c.dispatchEvent(new Event("change",{bubbles:!0})),r.addEventListener("change",(()=>{let e=parseFloat(r.value)||t;e=Math.max(t,Math.min(e,n)),i.noUiSlider.set([e,null])})),c.addEventListener("change",(()=>{let e=parseFloat(c.value)||n;e=Math.max(t,Math.min(e,n)),i.noUiSlider.set([null,e])})))}))};document.addEventListener("DOMContentLoaded",(function(){(function(){const e=document.querySelectorAll(".filter-header");e.forEach((t=>{t.addEventListener("click",(()=>{const n=t.closest(".filter-accordion"),o="true"===t.getAttribute("aria-expanded");e.forEach((e=>{e!==t&&(e.setAttribute("aria-expanded","false"),e.closest(".filter-accordion").classList.remove("active"))})),t.setAttribute("aria-expanded",String(!o)),n.classList.toggle("active",!o)}))}))})(),(()=>{const e=document.querySelectorAll(".sort-btn");e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),t.classList.add("active")}))}))})(),n(),function(){const e=document.querySelector(".btn-apply-filters"),t=document.querySelector(".btn-reset-filters");if(!e||!t)return;const n={ranges:{},checkboxes:{}};document.querySelectorAll(".range-filter").forEach((e=>{const t=e.dataset.type,o=parseFloat(e.dataset.from)||0,s=parseFloat(e.dataset.to)||1e5;n.ranges[t]=[o,s]}));const o=new Set;function s(){const o=function(){for(const[e,[t,o]]of Object.entries(n.ranges)){const n=document.querySelector(`.range-filter[data-type="${e}"]`);if(!n)continue;const s=n.querySelector(".range-from"),a=n.querySelector(".range-to");if(!s||!a)continue;const r=parseFloat(s.value)||0,c=parseFloat(a.value)||0;if(r!==t||c!==o)return!0}const e={};document.querySelectorAll('input[type="checkbox"]:checked').forEach((t=>{const n=t.name.replace("[]","");e[n]||(e[n]=[]),e[n].push(t.value)}));for(const[t,o]of Object.entries(n.checkboxes)){const n=e[t]||[];if(n.length!==o.length)return!0;if([...o].sort().join(",")!==[...n].sort().join(","))return!0}return!1}();e.classList.toggle("active",o),t.classList.toggle("active",o)}document.querySelectorAll('input[type="checkbox"][name]').forEach((e=>{const t=e.name.replace("[]","");o.add(t)})),o.forEach((e=>{n.checkboxes[e]=[]})),document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.addEventListener("change",s)})),document.querySelectorAll(".range-slider").forEach((e=>{e.noUiSlider&&e.noUiSlider.on("update",s)})),e.addEventListener("click",(()=>{const e=new URLSearchParams;document.querySelectorAll(".range-filter").forEach((t=>{const n=t.dataset.type,o=t.querySelector(".range-from")?.value,s=t.querySelector(".range-to")?.value;o&&e.append(`${n}_from`,o),s&&e.append(`${n}_to`,s)})),document.querySelectorAll('input[type="checkbox"]:checked').forEach((t=>{e.append(t.name,t.value)}));const t=`${window.location.pathname}?${e.toString()}`;history.pushState({},"",t),fetch(t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector(".products-grid"),n=document.querySelector(".products-grid");t&&n&&(n.innerHTML=t.innerHTML)}))})),t.addEventListener("click",(e=>{e.preventDefault(),document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1,e.dispatchEvent(new Event("change",{bubbles:!0}))})),document.querySelectorAll(".range-filter").forEach((e=>{const t=parseFloat(e.dataset.from)||0,n=parseFloat(e.dataset.to)||1e5,o=e.querySelector(".range-from"),s=e.querySelector(".range-to"),a=e.querySelector(".range-slider");o&&(o.value=t),s&&(s.value=n),a&&a.noUiSlider&&a.noUiSlider.set([t,n])}));const t=window.location.pathname+window.location.hash;window.history.pushState({},"",t),s()})),s()}();const e=document.querySelector(".filters-toggle"),t=document.querySelector(".filters-panel");e&&t&&(e.addEventListener("click",(()=>{const n=!("true"===e.getAttribute("aria-expanded"));if(e.setAttribute("aria-expanded",String(n)),t.classList.toggle("is-open",n),n){const e=t.querySelector("button, input, select, a");e&&e.focus()}})),document.addEventListener("keydown",(n=>{"Escape"===n.key&&t.classList.contains("is-open")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("is-open"),e.focus())})),document.addEventListener("click",(n=>{!t.classList.contains("is-open")||t.contains(n.target)||e.contains(n.target)||(e.setAttribute("aria-expanded","false"),t.classList.remove("is-open"))})),function(){function e(e,n=1,o=12){const s=document.getElementById("pagination-container");if(!s)return;if(e<=o)return s.innerHTML="",void(s.style.display="none");s.style.display="flex";const a=Math.ceil(e/o);s.innerHTML="";const r=window.innerWidth<768?4:7,c=document.createElement("button");c.innerHTML='<svg width="19" height="14" viewBox="0 0 19 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.7777 3.09005L13.7826 2.1001L8.80664 7.04983L13.7826 11.9996L14.7778 11.0096L10.797 7.04983L14.7777 3.09005Z" fill="currentColor"/><path d="M9.1481 3.09005L8.15292 2.1001L3.177 7.04983L8.15294 11.9996L9.14813 11.0096L5.16737 7.04983L9.1481 3.09005Z" fill="currentColor"/></svg>',c.disabled=1===n,c.classList.add("pagination-btn","pagination-btn--first"),c.disabled&&c.classList.add("disabled"),c.addEventListener("click",(()=>t(1))),s.appendChild(c);const i=document.createElement("button");i.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.80003 3.09005L8.81008 2.1001L3.86035 7.04983L8.8101 11.9996L9.80005 11.0096L5.84024 7.04983L9.80003 3.09005Z" fill="currentColor"/></svg>',i.disabled=1===n,i.classList.add("pagination-btn","pagination-btn--prev"),i.disabled&&i.classList.add("disabled"),i.addEventListener("click",(()=>t(n-1))),s.appendChild(i);const l=new Set;l.add(1),l.add(a),l.add(n);const d=Math.floor((r-3)/2);for(let e=1;e<=d;e++)n-e>1&&l.add(n-e),n+e<a&&l.add(n+e);const u=Array.from(l).sort(((e,t)=>e-t));if(u.length>r){const e=new Set;e.add(1),e.add(n),e.add(a);let t=n-1,o=n+1;for(;e.size<r&&(t>1&&e.add(t--),!(e.size>=r))&&(o<a&&e.add(o++),!(e.size>=r)););u=Array.from(e).sort(((e,t)=>e-t))}let h=0;u.forEach((e=>{if(h>0&&e-h>1){const e=document.createElement("span");e.className="ellipsis",e.textContent="…",s.appendChild(e)}const o=document.createElement("button");o.textContent=e,o.className="page-number",e===n&&o.classList.add("active"),o.addEventListener("click",(()=>t(e))),s.appendChild(o),h=e}));const p=document.createElement("button");p.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.19997 3.09005L5.18992 2.1001L10.1396 7.04983L5.1899 11.9996L4.19995 11.0096L8.15976 7.04983L4.19997 3.09005Z" fill="currentColor"/></svg>',p.disabled=n===a,p.classList.add("pagination-btn","pagination-btn--next"),p.disabled&&p.classList.add("disabled"),p.addEventListener("click",(()=>t(n+1))),s.appendChild(p);const m=document.createElement("button");m.innerHTML='<svg width="19" height="14" viewBox="0 0 19 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.22226 3.09005L5.21745 2.1001L10.1934 7.04983L5.21742 11.9996L4.22224 11.0096L8.20299 7.04983L4.22226 3.09005Z" fill="currentColor"/><path d="M9.8519 3.09005L10.8471 2.1001L15.823 7.04983L10.8471 11.9996L9.85187 11.0096L13.8326 7.04983L9.8519 3.09005Z" fill="currentColor"/></svg>',m.disabled=n===a,m.classList.add("pagination-btn","pagination-btn--last"),m.disabled&&m.classList.add("disabled"),m.addEventListener("click",(()=>t(a))),s.appendChild(m)}function t(t){console.log("Переход на страницу:",t),e(100,t)}e(100,1)}())}))})();